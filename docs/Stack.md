# スタック

mc68000ではアドレスレジスタ７番(a7)をスタックポインタとして使用する。
アセンブラでは「sp」と表記することができる。

    move.l  d0,-(sp)    * プッシュ
    move.l  (sp+),d0    * ポップ

    move.l  (sp),d1     * spを間接アドレッシングでみると、スタックの先頭の値を確認することになる

mc68000ではスタック操作用の命令は無く、スタックポインタに対してポストインクリメントアドレスレジスタ間接アドレッシングと
プレデクリメントアドレスレジスタ間接アドレッシングを使用することでプッシュ・ポップ操作を行う。

サブルーチンを呼び出すときには、レジスタすべてを指定してスタックにプッシュすることで、呼び出し元の状態を保持できる。
サブルーチンから復帰後に、スタックからポップすることで、サブルーチン呼び出し時点の状態を復元できる。